<nav class="navbar navbar-expand-lg" style="background-color: rgb(94, 52, 177)">
  <div class="container-fluid">


    <!-- Logo -->
    <a class="navbar-brand" routerLink="">
      <img src="\assets\images\logo_plume_enfant.png" alt="Logo Plume d'enfant" width="175" />
    </a>


    <!-- Liens principaux -->

    <div>
      <ul class="navbar-nav">
        <li class="nav-item me-5">
          <a class="nav-link text-white" routerLink="/create">Cr√©er une histoire</a>
        </li>

        <li class="nav-item">
          <a class="nav-link text-white" routerLink="/stories">Chercher une histoire</a>
        </li>
      </ul>
    </div>



    <!-- Boutons pour S'inscrire et Se connecter -->
    <div class="d-flex">

      @if (isLoggedIn) {
      <button class="btn me-4 boutton-navbar" (click)="toggleLogin()">Mon profil
        <img src="\assets\images\image_portrait_garcon_zoom.jpg" alt="Avatar" class="profile_avatar">
      </button>
      }

      @else {
      <button class="btn me-4 boutton-navbar" data-bs-toggle="modal" data-bs-target="#signupModal">S'inscrire</button>
      <button class="btn me-4 boutton-navbar" data-bs-toggle="modal" data-bs-target="#loginModal">Se connecter</button>
      }

    </div>

  </div>
</nav>

<!-- Modal pour S'inscrire -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <!-- Formulaire d'inscription -->
        <form (ngSubmit)="onSignupSubmit()">
          <div class="mb-3">
            <label for="signupEmail" class="form-label">Adresse email</label>
            <input type="email" class="form-control" id="signupEmail" [(ngModel)]="signupEmail" name="signupEmail"
              required />
          </div>
          <div class="mb-3">
            <label for="signupPassword" class="form-label">Mot de passe</label>
            <input type="password" class="form-control" id="signupPassword" [(ngModel)]="signupPassword"
              name="signupPassword" required />
          </div>
          <button type="submit" class="btn btn-success btn-sm d-block mx-auto">S'inscrire</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal pour Se connecter -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">

        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">


        <!-- Formulaire de connexion -->
        <form (ngSubmit)="onLoginSubmit()">
          <div class="mb-3">
            <label for="loginEmail" class="form-label">Adresse email</label>
            <input type="email" class="form-control" id="loginEmail" [(ngModel)]="loginEmail" name="loginEmail"
              required />
          </div>
          <div class="mb-3">
            <label for="loginPassword" class="form-label">Mot de passe</label>
            <input type="password" class="form-control" id="loginPassword" [(ngModel)]="loginPassword"
              name="loginPassword" required />
          </div>
          <button type="submit" class="btn btn-success btn-sm d-block mx-auto">Se connecter</button>
        </form>
      </div>
    </div>
  </div>
</div>